<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Egemen Chat v2</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="auth-container">
        <div class="auth-box"><div id="login-form"><h2>Giriş Yap</h2><input type="email" id="login-email" placeholder="E-posta"><input type="password" id="login-password" placeholder="Şifre"><button onclick="girisYap()">GİRİŞ YAP</button><a onclick="toggleForms()">Hesabın yok mu? Kayıt Ol</a><a onclick="signInAnonymously()" style="margin-top: 25px; color: #72767d;">veya Misafir Olarak Devam Et</a></div><div id="register-form"><h2>Kayıt Ol</h2><input type="text" id="register-username" placeholder="Kullanıcı Adı"><input type="email" id="register-email" placeholder="E-posta"><input type="password" id="register-password" placeholder="Şifre"><button onclick="kayitOl()">KAYIT OL</button><a onclick="toggleForms()">Zaten hesabın var mı? Giriş Yap</a></div></div>
    </div>
    <div id="app-container">
        <div id="chat-app-layout">
            <div id="sidebar"><h3>Sohbetler</h3><ul id="chat-list"></ul><div id="member-features"><button onclick="startPrivateChat()" style="width:100%;padding:10px;border:none;border-radius:5px;background:#40444b;color:white;cursor:pointer;">Özel Sohbet Başlat</button><h3 style="margin-top: 20px;">Çevrimiçi</h3><ul id="online-users-list"></ul><div id="my-id-container" onclick="copyMyId()"><p style="margin:0; font-weight: bold;">Benim ID'm (Tıkla Kopyala):</p><p id="my-id-display" style="word-break: break-all; margin: 5px 0 0;"></p></div></div><div id="user-info"><p><strong>Hoş geldin,</strong><br><span id="user-display-name"></span></p><button onclick="cikisYap()" style="width:100%; margin-top:10px; background: #d83c3e; color:white; border:none; padding:8px; border-radius:5px; cursor:pointer;">ÇIKIŞ YAP</button></div></div>
            <div id="main-chat"><div id="chat-header"><h2 id="chat-title"></h2><div><button id="video-call-button" onclick="startVideoCall()" title="Görüntülü Arama Başlat">📹</button><button onclick="clearChatScreen()" style="background:none; border:none; color:#b9bbbe; cursor:pointer;">Ekranı Temizle</button></div></div><div id="mesajlar"></div><div id="typing-indicator"></div><div id="input-area"><label for="image-upload-input" id="image-upload-label">📎</label><input type="file" id="image-upload-input" accept="image/*"><button id="emoji-button">😊</button><input id="mesajInput" type="text" placeholder="Mesajını yaz..."><button onclick="mesajGonder()" style="margin-left:10px; padding:12px 20px; background:#5865f2; color:white; border:none; border-radius:5px; cursor:pointer;">GÖNDER</button></div></div>
        </div>
    </div>
    <div id="modal-overlay">
        <div id="profile-modal">
            <h2 id="profile-username"></h2>
            <p><strong>Kullanıcı ID:</strong><br><span id="profile-userid"></span></p>
            <div class="profile-actions">
                <button id="profile-block-btn" class="block-btn">Engelle</button>
                <button id="profile-report-btn" class="report-btn">Şikayet Et</button>
            </div>
            <button onclick="closeProfileModal()" style="margin-top:20px; background: #40444b; color: white; padding: 10px; border-radius: 5px; border: none; cursor: pointer; width: 100%;">Kapat</button>
        </div>
    </div>
    <div id="emoji-picker"></div>
    <audio id="notification-sound" src="https://www.zapsplat.com/wp-content/uploads/2015/sound-design/ui_loading_screen_generic_progress_tick_002_single.mp3" preload="auto"></audio>

    <!-- Firebase Kütüphaneleri -->
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-auth-compat.js"></script>

    <!-- Önce Güvenli Ayarlar, Sonra Ana Uygulama Kodu -->
    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html>
